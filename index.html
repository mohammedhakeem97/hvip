<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hachiko VIP Story</title>
    <meta name="description" content="A cinematic scroll-based story for Hachiko VIP Club" />
    <meta name="theme-color" content="#F08F23" />

    <!-- Tailwind -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.3/dist/tailwind.min.css" rel="stylesheet" />

    <!-- React + ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@11.0.3/dist/framer-motion.umd.js"></script>

    <!-- Babel (?????? JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="bg-black text-white">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window["framer-motion"];
      const ACCENT = "#F08F23";

      const sections = [
        { title: "1. The Beginning of the Trail", body: "It started with a sound — the soft crunch of footsteps on gravel, a rhythm that seemed to echo a heartbeat..." },
        { title: "2. The Whispering Forest", body: "As he entered the woods, silence wrapped around him like a velvet cloak..." },
        { title: "3. The Hidden Symbol", body: "Halfway through the forest, he found it — a small, carved mark on an ancient oak..." },
        { title: "4. The Stranger by the River", body: "When the path opened to a river, he wasn’t alone. A figure stood across the water..." },
        { title: "5. The Fire and the Memory", body: "That night, Ethan built a small fire. The flames danced wildly..." },
        { title: "6. The Door of Light", body: "At dawn, he reached a clearing. There stood an arch of stone covered in moss..." },
        { title: "7. The Return", body: "When Ethan finally emerged, the forest was gone. Or maybe, it had never existed..." },
      ];

      function HachikoVIPStory() {
        const [formData, setFormData] = useState({ name: '', phone: '', contact: '', notes: '' });
        const [submitted, setSubmitted] = useState(false);
        const [activeSection, setActiveSection] = useState(0);

        const handleChange = (e) => {
          setFormData({ ...formData, [e.target.name]: e.target.value });
        };

        const handleSubmit = (e) => {
          e.preventDefault();
          if (!formData.name || !formData.phone || !formData.contact) {
            alert('Please fill all required fields.');
            return;
          }
          fetch('https://formspree.io/f/yourFormID', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData),
          })
            .then(() => setSubmitted(true))
            .catch(() => alert('An error occurred during submission.'));
        };

        useEffect(() => {
          const handleScroll = () => {
            const allSections = document.querySelectorAll('section');
            let index = 0;
            allSections.forEach((sec, i) => {
              const rect = sec.getBoundingClientRect();
              if (rect.top <= window.innerHeight * 0.5 && rect.bottom >= window.innerHeight * 0.5) {
                index = i;
              }
            });
            setActiveSection(index);
          };
          window.addEventListener('scroll', handleScroll, { passive: true });
          return () => window.removeEventListener('scroll', handleScroll);
        }, []);

        const scrollToSection = (id) => {
          document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        };

        const navIds = [...sections.map((_, i) => `section-${i}`), 'contact'];

        return (
          <div className="min-h-screen bg-black text-white relative">
            <div className="fixed inset-0 -z-10">
              <img src="h.png" alt="Background" className="w-full h-full object-cover opacity-60" />
              <div className="absolute inset-0 bg-gradient-to-b from-transparent via-black/70 to-black"></div>
            </div>

            <header className="fixed top-6 left-6 right-6 z-30 flex items-center justify-between">
              <div className="flex items-center gap-4">
                <img src="logo.png" alt="Hachiko Logo" className="w-12 h-12 rounded-full border border-white/20 object-contain" />
                <div>
                  <p className="text-xs uppercase tracking-widest text-white/60">Hello</p>
                  <h1 className="text-sm md:text-base font-semibold tracking-tight">WE’RE HONORED TO WELCOME YOU</h1>
                  <p className="text-xs md:text-sm font-medium" style={{ color: ACCENT }}>TO THE HACHIKO VIP CLUB</p>
                </div>
              </div>
            </header>

            <main className="min-h-screen overflow-y-scroll snap-y scroll-smooth">
              {sections.map((s, i) => (
                <section id={`section-${i}`} key={s.title} className="min-h-screen flex items-center justify-center px-6 md:px-24 pt-24 pb-12">
                  <motion.article
                    initial={{ opacity: 0, y: 30 }}
                    whileInView={{ opacity: 1, y: 0 }}
                    viewport={{ once: true, amount: 0.25 }}
                    transition={{ duration: 0.8 }}
                    className="max-w-4xl text-center"
                  >
                    <h2 className="text-2xl md:text-4xl font-extrabold mb-6" style={{ color: ACCENT }}>{s.title}</h2>
                    <p className="text-base md:text-lg leading-relaxed text-white/90">{s.body}</p>
                    <div className="mt-8 h-0.5 w-28 mx-auto rounded-full" style={{ background: `linear-gradient(90deg, ${ACCENT}, rgba(255,255,255,0.06))` }} />
                  </motion.article>
                </section>
              ))}

              <section id="contact" className="h-auto pb-48 pt-12 flex items-center justify-center px-6 md:px-24 bg-black/80">
                <motion.div initial={{ opacity: 0, y: 30 }} whileInView={{ opacity: 1, y: 0 }} transition={{ duration: 0.8 }} className="max-w-lg w-full text-center">
                  <h2 className="text-3xl font-bold mb-8" style={{ color: ACCENT }}>Join the Trail</h2>
                  {submitted ? (
                    <p className="text-white/80 text-lg">Thank you for joining! We’ll contact you soon.</p>
                  ) : (
                    <form onSubmit={handleSubmit} className="space-y-6">
                      <input type="text" name="name" placeholder="Your Name *" value={formData.name} onChange={handleChange} className="w-full bg-transparent border-b border-white/20 text-white placeholder-white/40 py-3 outline-none transition duration-300 focus:border-orange-500" />
                      <input type="tel" name="phone" placeholder="Phone Number *" value={formData.phone} onChange={handleChange} className="w-full bg-transparent border-b border-white/20 text-white placeholder-white/40 py-3 outline-none transition duration-300 focus:border-orange-500" />
                      <select name="contact" value={formData.contact} onChange={handleChange} className="w-full bg-transparent border-b border-white/20 text-white py-3 outline-none transition duration-300 focus:border-orange-500">
                        <option value="" disabled>Select Preferred Contact Method *</option>
                        <option value="call" className="text-black">Call</option>
                        <option value="whatsapp" className="text-black">WhatsApp</option>
                      </select>
                      <textarea name="notes" placeholder="Notes (optional)" value={formData.notes} onChange={handleChange} className="w-full bg-transparent border-b border-white/20 text-white placeholder-white/40 py-3 outline-none h-24 transition duration-300 focus:border-orange-500"></textarea>
                      <button type="submit" className="w-full py-3 rounded-full font-semibold text-black hover:opacity-90 transition duration-300" style={{ background: ACCENT }}>Submit</button>
                    </form>
                  )}
                </motion.div>
              </section>
            </main>

            <div className="fixed right-6 top-1/2 -translate-y-1/2 flex flex-col gap-4 z-50">
              {navIds.map((id, i) => (
                <button
                  key={id}
                  onClick={() => scrollToSection(id)}
                  className="w-3 h-3 rounded-full border border-white/30"
                  style={{
                    backgroundColor: activeSection === i ? ACCENT : 'transparent',
                    transform: activeSection === i ? 'scale(1.3)' : 'scale(1)',
                    transition: 'all 0.3s ease'
                  }}
                />
              ))}
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<HachikoVIPStory />);
    </script>
  </body>
</html>